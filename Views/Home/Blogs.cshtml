@model IEnumerable<Blog>

@{
    ViewBag.Title = "Blogs";
}

<div class="container my-5">
    <!-- Blogs Header -->
    <div class="row text-center mb-5">
        <div class="col-12">
            <h1 class="display-4">Our Blogs</h1>
            <p class="text-muted fs-5">Insights, stories, and updates from Al Anwar Creativity Studio.</p>
        </div>
    </div>

    <div class="row mb-5">
        <!-- Most Recent Blog (Left Section) -->
        <div class="col-lg-8 mb-5 pb-5">
            <h5 class="mb-4 fw-bold">Most Recent</h5>

            @if (Model.Any())
            {
                var mostRecentBlog = Model.FirstOrDefault();
                if (mostRecentBlog != null)
                {
                    <div class="card border-0 shadow-sm">
                        <img src="@mostRecentBlog.HeaderImageUrl" style="width: 100%; max-height: 500px; object-fit: cover;" alt="Most Recent Blog">
                        <div class="card-body">
                            <h3 class="card-title">@mostRecentBlog.Title</h3>
                            <p class="card-text text-muted">
                                @(mostRecentBlog.Description.Length > 250 ? mostRecentBlog.Description.Substring(0, 250) + "..." : mostRecentBlog.Description)
                            </p>
                            <a href="/Blogs/@mostRecentBlog.BlogId" class="btn btn-custom">Read More</a>
                        </div>
                    </div>
                }
            }
            else
            {
                <p>No blogs available at the moment. Please check back later.</p>
            }
        </div>

        <!-- Blog List (Right Section) -->
        <div class="col-lg-4">
            <h5 class="mb-4 fw-bold">Other Blogs</h5>

            <!-- Scrollable Blog List -->
            <div class="scrollable-list" style="max-height: 500px; overflow-y: auto;">
                @foreach (var blog in Model.Skip(1))
                {
                    <div class="card mb-3 shadow-sm border-0">
                        <div class="row g-0">
                            <div class="col-4" style="overflow: hidden;">
                                <img src="@blog.HeaderImageUrl" class="img-fluid rounded-start" style="height:100%; width: 100%; object-fit:cover" alt="Blog @blog.BlogId">
                            </div>
                            <div class="col-8">
                                <div class="card-body">
                                    <h6 class="card-title">@blog.Title</h6>
                                    <p class="card-text text-muted">
                                        @(blog.Description.Length > 50 ? blog.Description.Substring(0, 50) + "..." : blog.Description)
                                    </p>
                                    <a href="/Blogs/@blog.BlogId" class="stretched-link"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>